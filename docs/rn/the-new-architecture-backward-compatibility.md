# Что такое обратная совместимость

!!!warning "Внимание"

    Эта документация все еще является **экспериментальной**, и детали могут быть изменены по мере итераций. Не стесняйтесь делиться своими отзывами в [обсуждении внутри рабочей группы](https://github.com/reactwg/react-native-new-architecture/discussions/8) для этой страницы.

    Более того, она содержит несколько **ручных шагов**. Пожалуйста, обратите внимание, что это не будет представлять окончательный опыт разработчиков, когда Новая архитектура станет стабильной. Мы работаем над инструментами, шаблонами и библиотеками, которые помогут вам быстро начать работу с новой архитектурой без необходимости проходить всю процедуру настройки.

Создание обратно совместимого модуля важно для создания библиотеки, работающей как в **старой архитектуре**, так и в **новой архитектуре**. Не все пользователи вашей библиотеки сразу же пересядут на корабль новой архитектуры: хорошо, что они смогут использовать вашу библиотеку, даже если они все еще используют старую архитектуру.

Хитрость создания хорошего обратно совместимого модуля заключается в том, чтобы минимизировать изменения, необходимые для перехода на новую версию. Таким образом, пользователи модуля смогут плавно перейти на новую версию и мигрировать на новую архитектуру, когда они будут готовы, в идеале выполнив одну команду.

Для достижения этого результата нам необходимо выполнить несколько изменений в конфигурациях **Turbo Native Module** и **Fabric Native Component**. Мы должны выполнить следующие шаги:

1.  **Обновить конфигурацию установки**, чтобы избежать использования кода, который не нужен старой архитектуре.
2.  **Обновить код** для поддержки обеих архитектур. Конвейеры сборки как Android, так и iOS дают вам механизм для предоставления библиотеки, которая будет компилироваться с правильной архитектурой React Native.
3.  **Настройте спецификации для загрузки правильной реализации**, чтобы слой JavaScript использовал новую архитектуру, когда она будет доступна.

!!!info ""

    Следующие разделы требуют, чтобы вы были знакомы с [столпами](the-new-architecture-pillars.md) **Новой архитектуры**.

-   Чтобы создать обратно совместимый **Turbo Native Module**, следуйте [этому руководству](the-new-architecture-backward-compatibility-turbomodules.md).
-   Чтобы создать обратно совместимый **Fabric Native Component**, следуйте [этому руководству](the-new-architecture-backward-compatibility-fabric-components.md).
