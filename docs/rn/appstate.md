---
description: AppState может определить, находится ли приложение на переднем плане или в фоновом режиме, и уведомить вас об изменении состояния
---

# AppState

**`AppState`** может определить, находится ли приложение на переднем плане или в фоновом режиме, и уведомить вас об изменении состояния.

`AppState` часто используется для определения намерения и правильного поведения при обработке push-уведомлений.

## Состояния приложения

-   `active` — приложение работает на переднем плане
-   `background` — Приложение работает в фоновом режиме. Пользователь находится либо:
    -   в другом приложении
    -   на главном экране
    -   [Android] в другой `Activity` (даже если она была запущена вашим приложением)
-   [iOS] `inactive` — Это состояние, которое возникает при переходе между передним и фоновым планом, а также в периоды бездействия, такие как вход в режим многозадачности, открытие Центра уведомлений или в случае входящего вызова.

Дополнительную информацию см. в [документации Apple](https://developer.apple.com/documentation/uikit/app_and_scenes/managing_your_app_s_life_cycle).

## Базовое использование

Чтобы увидеть текущее состояние, вы можете проверить `AppState.currentState`, которое будет постоянно обновляться. Однако, `currentState` будет null при запуске, пока `AppState` получает его через мост.

<div data-snack-id="@bndby/appstate-example" data-snack-platform="web" data-snack-preview="true" data-snack-theme="light" style="overflow:hidden;background:#F9F9F9;border:1px solid var(--color-border);border-radius:4px;height:505px;width:100%"></div>

В этом примере будет только "Текущее состояние: активно", потому что приложение видно пользователю только в `активном` состоянии, а нулевое состояние будет происходить только на мгновение. Если вы хотите поэкспериментировать с кодом, мы рекомендуем использовать собственное устройство вместо встроенного предварительного просмотра.

## События {#events}

### change

Это событие происходит при изменении состояния приложения. Слушатель вызывается с одним из [текущих значений состояния приложения](appstate.md#app-states).

### memoryWarning

Это событие используется при необходимости бросить предупреждение о памяти или освободить ее.

### focus :simple-android:

Получается, когда приложение получает фокус (пользователь взаимодействует с приложением).

### blur :simple-android:

Получается, когда пользователь не активно взаимодействует с приложением. Полезно в ситуациях, когда пользователь опускает вниз [ящик уведомлений](https://developer.android.com/guide/topics/ui/notifiers/notifications#bar-and-drawer). Состояние `AppState` не изменится, но событие `blur` сработает.

## Методы {#methods}

### addEventListener()

```ts
static addEventListener(
  type: AppStateEvent,
  listener: (state: AppStateStatus) => void,
): NativeEventSubscription;
```

Устанавливает функцию, которая будет вызываться всякий раз, когда происходит указанный тип события на `AppState`. Допустимыми значениями для `eventType` являются перечисленные выше события. Возвращает `EventSubscription`.

## Свойства {#properties}

### currentState

```ts
static currentState: AppStateStatus;
```
