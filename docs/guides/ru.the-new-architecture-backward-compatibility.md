

---
id: backward-compatibility
title: What Backward Compatibility Is
---

import NewArchitectureWarning from '../\_markdown-new-architecture-warning.mdx';

<NewArchitectureWarning/>

Создание обратно совместимого модуля важно для создания библиотеки, работающей как в **старой архитектуре**, так и в **новой архитектуре**. Не все пользователи вашей библиотеки сразу же пересядут на корабль новой архитектуры: хорошо, что они смогут использовать вашу библиотеку, даже если они все еще используют старую архитектуру.



Хитрость создания хорошего обратно совместимого модуля заключается в том, чтобы минимизировать изменения, необходимые для перехода на новую версию. Таким образом, пользователи модуля смогут плавно перейти на новую версию и мигрировать на новую архитектуру, когда они будут готовы, в идеале выполнив одну команду.




Для достижения этого результата нам необходимо выполнить несколько изменений в конфигурациях **Turbo Native Module** и **Fabric Native Component**. Мы должны выполнить следующие шаги:




1. **Обновить конфигурацию установки**, чтобы избежать использования кода, который не нужен старой архитектуре.

1. **Обновить код** для поддержки обеих архитектур. Конвейеры сборки как Android, так и iOS дают вам механизм для предоставления библиотеки, которая будет компилироваться с правильной архитектурой React Native.

1. **Настройте спецификации для загрузки правильной реализации**, чтобы слой JavaScript использовал новую архитектуру, когда она будет доступна.




:::info

Следующие разделы требуют, чтобы вы были знакомы с [столпами] (pillars) **Новой архитектуры**.

:::




- Чтобы создать обратно совместимый **Turbo Native Module**, следуйте [этому руководству](backward-compatibility-turbomodules).

- Чтобы создать обратно совместимый **Fabric Native Component**, следуйте [этому руководству](backward-compatibility-fabric-components).

